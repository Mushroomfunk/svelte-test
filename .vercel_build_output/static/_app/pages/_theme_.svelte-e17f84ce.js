import{S as V,i as j,s as A,e as p,t as U,k as I,c as m,a as $,g as q,d as _,n as x,b as k,f as w,D as g,h as B,K as te,E as L,F as M,L as le,M as C,N as P,l as G,x as y,j as T,m as F,o as H,u as D,v as N,r as K,w as R}from"../chunks/vendor-bc8e03a4.js";function J(o,r,n){const t=o.slice();return t[1]=r[n],t}function O(o,r,n){const t=o.slice();return t[4]=r[n],t}function Q(o,r){let n,t,e=r[4].title+"",c,l,a;return{key:o,first:null,c(){n=p("li"),t=p("a"),c=U(e),a=I(),this.h()},l(s){n=m(s,"LI",{});var i=$(n);t=m(i,"A",{href:!0});var d=$(t);c=q(d,e),d.forEach(_),a=x(i),i.forEach(_),this.h()},h(){k(t,"href",l=r[4].url),this.first=n},m(s,i){w(s,n,i),g(n,t),g(t,c),g(n,a)},p(s,i){r=s,i&1&&e!==(e=r[4].title+"")&&B(c,e),i&1&&l!==(l=r[4].url)&&k(t,"href",l)},d(s){s&&_(n)}}}function W(o){let r,n,t=o[1].headerTitle+"",e,c,l,a=[],s=new Map,i,d=o[1].categories;const v=f=>f[4].url;for(let f=0;f<d.length;f+=1){let u=O(o,d,f),h=v(u);s.set(h,a[f]=Q(h,u))}return{c(){r=p("div"),n=p("h2"),e=U(t),c=I(),l=p("ul");for(let f=0;f<a.length;f+=1)a[f].c();i=I(),this.h()},l(f){r=m(f,"DIV",{});var u=$(r);n=m(u,"H2",{class:!0});var h=$(n);e=q(h,t),h.forEach(_),c=x(u),l=m(u,"UL",{});var b=$(l);for(let E=0;E<a.length;E+=1)a[E].l(b);b.forEach(_),i=x(u),u.forEach(_),this.h()},h(){k(n,"class","text-xl")},m(f,u){w(f,r,u),g(r,n),g(n,e),g(r,c),g(r,l);for(let h=0;h<a.length;h+=1)a[h].m(l,null);g(r,i)},p(f,u){u&1&&t!==(t=f[1].headerTitle+"")&&B(e,t),u&1&&(d=f[1].categories,a=te(a,u,v,1,f,d,s,l,le,Q,null,O))},d(f){f&&_(r);for(let u=0;u<a.length;u+=1)a[u].d()}}}function re(o){let r,n=o[0],t=[];for(let e=0;e<n.length;e+=1)t[e]=W(J(o,n,e));return{c(){r=p("div");for(let e=0;e<t.length;e+=1)t[e].c();this.h()},l(e){r=m(e,"DIV",{class:!0});var c=$(r);for(let l=0;l<t.length;l+=1)t[l].l(c);c.forEach(_),this.h()},h(){k(r,"class","flex flex-wrap")},m(e,c){w(e,r,c);for(let l=0;l<t.length;l+=1)t[l].m(r,null)},p(e,[c]){if(c&1){n=e[0];let l;for(l=0;l<n.length;l+=1){const a=J(e,n,l);t[l]?t[l].p(a,c):(t[l]=W(a),t[l].c(),t[l].m(r,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},i:L,o:L,d(e){e&&_(r),M(t,e)}}}function ne(o,r,n){let{filters:t}=r;return o.$$set=e=>{"filters"in e&&n(0,t=e.filters)},[t]}class se extends V{constructor(r){super();j(this,r,ne,re,A,{filters:0})}}function ae(o){let r,n,t,e,c,l,a=o[0].brand.title+"",s,i,d,v=o[0].title+"",f,u;return{c(){r=p("div"),n=p("a"),t=p("img"),c=I(),l=p("h2"),s=U(a),i=I(),d=p("p"),f=U(v),this.h()},l(h){r=m(h,"DIV",{style:!0});var b=$(r);n=m(b,"A",{href:!0});var E=$(n);t=m(E,"IMG",{alt:!0,src:!0}),c=x(E),l=m(E,"H2",{});var S=$(l);s=q(S,a),S.forEach(_),i=x(E),d=m(E,"P",{});var z=$(d);f=q(z,v),z.forEach(_),E.forEach(_),b.forEach(_),this.h()},h(){k(t,"alt",o[2]),C(t.src,e=o[1])||k(t,"src",e),k(n,"href",u=o[0].url),P(r,"flex","0 0 24%")},m(h,b){w(h,r,b),g(r,n),g(n,t),g(n,c),g(n,l),g(l,s),g(n,i),g(n,d),g(d,f)},p(h,[b]){b&4&&k(t,"alt",h[2]),b&2&&!C(t.src,e=h[1])&&k(t,"src",e),b&1&&a!==(a=h[0].brand.title+"")&&B(s,a),b&1&&v!==(v=h[0].title+"")&&B(f,v),b&1&&u!==(u=h[0].url)&&k(n,"href",u)},i:L,o:L,d(h){h&&_(r)}}}function oe(o,r,n){let t,e,{product:c}=r;return o.$$set=l=>{"product"in l&&n(0,c=l.product)},o.$$.update=()=>{o.$$.dirty&1&&n(2,t=`${c.brand.title} \u2014 ${c.title}`),o.$$.dirty&1&&n(1,e=`${c.imageUrls[0]}--product-card.jpg`)},[c,e,t]}class ce extends V{constructor(r){super();j(this,r,oe,ae,A,{product:0})}}function X(o,r,n){const t=o.slice();return t[1]=r[n],t[3]=n,t}function Y(o,r,n){const t=o.slice();return t[4]=r[n],t}function Z(o){let r,n;return r=new ce({props:{product:o[4]}}),{c(){T(r.$$.fragment)},l(t){F(r.$$.fragment,t)},m(t,e){H(r,t,e),n=!0},p(t,e){const c={};e&1&&(c.product=t[4]),r.$set(c)},i(t){n||(y(r.$$.fragment,t),n=!0)},o(t){D(r.$$.fragment,t),n=!1},d(t){N(r,t)}}}function ee(o){let r,n,t=o[0],e=[];for(let l=0;l<t.length;l+=1)e[l]=Z(Y(o,t,l));const c=l=>D(e[l],1,1,()=>{e[l]=null});return{c(){for(let l=0;l<e.length;l+=1)e[l].c();r=G()},l(l){for(let a=0;a<e.length;a+=1)e[a].l(l);r=G()},m(l,a){for(let s=0;s<e.length;s+=1)e[s].m(l,a);w(l,r,a),n=!0},p(l,a){if(a&1){t=l[0];let s;for(s=0;s<t.length;s+=1){const i=Y(l,t,s);e[s]?(e[s].p(i,a),y(e[s],1)):(e[s]=Z(i),e[s].c(),y(e[s],1),e[s].m(r.parentNode,r))}for(K(),s=t.length;s<e.length;s+=1)c(s);R()}},i(l){if(!n){for(let a=0;a<t.length;a+=1)y(e[a]);n=!0}},o(l){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)D(e[a]);n=!1},d(l){M(e,l),l&&_(r)}}}function ie(o){let r,n,t=Array(50),e=[];for(let l=0;l<t.length;l+=1)e[l]=ee(X(o,t,l));const c=l=>D(e[l],1,1,()=>{e[l]=null});return{c(){r=p("div");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){r=m(l,"DIV",{class:!0});var a=$(r);for(let s=0;s<e.length;s+=1)e[s].l(a);a.forEach(_),this.h()},h(){k(r,"class","flex flex-wrap")},m(l,a){w(l,r,a);for(let s=0;s<e.length;s+=1)e[s].m(r,null);n=!0},p(l,[a]){if(a&1){t=Array(50);let s;for(s=0;s<t.length;s+=1){const i=X(l,t,s);e[s]?(e[s].p(i,a),y(e[s],1)):(e[s]=ee(i),e[s].c(),y(e[s],1),e[s].m(r,null))}for(K(),s=t.length;s<e.length;s+=1)c(s);R()}},i(l){if(!n){for(let a=0;a<t.length;a+=1)y(e[a]);n=!0}},o(l){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)D(e[a]);n=!1},d(l){l&&_(r),M(e,l)}}}function fe(o,r,n){let{products:t}=r;return o.$$set=e=>{"products"in e&&n(0,t=e.products)},[t]}class ue extends V{constructor(r){super();j(this,r,fe,ie,A,{products:0})}}function he(o){let r,n,t,e,c,l,a;return t=new se({props:{filters:o[0]}}),l=new ue({props:{products:o[1]}}),{c(){r=p("div"),n=p("div"),T(t.$$.fragment),e=I(),c=p("div"),T(l.$$.fragment),this.h()},l(s){r=m(s,"DIV",{class:!0});var i=$(r);n=m(i,"DIV",{style:!0});var d=$(n);F(t.$$.fragment,d),d.forEach(_),e=x(i),c=m(i,"DIV",{style:!0});var v=$(c);F(l.$$.fragment,v),v.forEach(_),i.forEach(_),this.h()},h(){P(n,"flex","0 0 10%"),P(c,"flex","0 0 80%"),k(r,"class","flex justify-between")},m(s,i){w(s,r,i),g(r,n),H(t,n,null),g(r,e),g(r,c),H(l,c,null),a=!0},p(s,[i]){const d={};i&1&&(d.filters=s[0]),t.$set(d);const v={};i&2&&(v.products=s[1]),l.$set(v)},i(s){a||(y(t.$$.fragment,s),y(l.$$.fragment,s),a=!0)},o(s){D(t.$$.fragment,s),D(l.$$.fragment,s),a=!1},d(s){s&&_(r),N(t),N(l)}}}const _e="https://babydriver-dev.bambinimirror.com/json",pe=async({page:{params:o},fetch:r})=>{const{theme:n}=o,e=await(await r(`${_e}/page:type=category&query=${n}`,{headers:{"bf-localization":"AT,EUR,en"}})).json();return console.log(e),{props:{filters:e.page.content.filter.sections,products:e.page.content.products}}};function de(o,r,n){let{filters:t}=r,{products:e}=r;return o.$$set=c=>{"filters"in c&&n(0,t=c.filters),"products"in c&&n(1,e=c.products)},[t,e]}class me extends V{constructor(r){super();j(this,r,de,he,A,{filters:0,products:1})}}export{me as default,pe as load};
