import{S as j,i as x,s as U,e as g,t as q,k as y,c as m,a as $,g as A,d,n as w,b as E,f as D,D as p,h as L,K as W,E as M,F as C,L as X,M as G,N as P,j as T,m as B,o as F,x as I,u as V,v as H,r as Y,w as Z}from"../chunks/vendor-bc8e03a4.js";function K(a,t,s){const e=a.slice();return e[1]=t[s],e}function N(a,t,s){const e=a.slice();return e[4]=t[s],e}function R(a,t){let s,e,r=t[4].title+"",i,l,o;return{key:a,first:null,c(){s=g("li"),e=g("a"),i=q(r),o=y(),this.h()},l(n){s=m(n,"LI",{});var c=$(s);e=m(c,"A",{href:!0});var _=$(e);i=A(_,r),_.forEach(d),o=w(c),c.forEach(d),this.h()},h(){E(e,"href",l=t[4].url),this.first=s},m(n,c){D(n,s,c),p(s,e),p(e,i),p(s,o)},p(n,c){t=n,c&1&&r!==(r=t[4].title+"")&&L(i,r),c&1&&l!==(l=t[4].url)&&E(e,"href",l)},d(n){n&&d(s)}}}function J(a){let t,s,e=a[1].headerTitle+"",r,i,l,o=[],n=new Map,c,_=a[1].categories;const v=f=>f[4].url;for(let f=0;f<_.length;f+=1){let u=N(a,_,f),h=v(u);n.set(h,o[f]=R(h,u))}return{c(){t=g("div"),s=g("h2"),r=q(e),i=y(),l=g("ul");for(let f=0;f<o.length;f+=1)o[f].c();c=y(),this.h()},l(f){t=m(f,"DIV",{});var u=$(t);s=m(u,"H2",{class:!0});var h=$(s);r=A(h,e),h.forEach(d),i=w(u),l=m(u,"UL",{});var b=$(l);for(let k=0;k<o.length;k+=1)o[k].l(b);b.forEach(d),c=w(u),u.forEach(d),this.h()},h(){E(s,"class","text-xl")},m(f,u){D(f,t,u),p(t,s),p(s,r),p(t,i),p(t,l);for(let h=0;h<o.length;h+=1)o[h].m(l,null);p(t,c)},p(f,u){u&1&&e!==(e=f[1].headerTitle+"")&&L(r,e),u&1&&(_=f[1].categories,o=W(o,u,v,1,f,_,n,l,X,R,null,N))},d(f){f&&d(t);for(let u=0;u<o.length;u+=1)o[u].d()}}}function ee(a){let t,s=a[0],e=[];for(let r=0;r<s.length;r+=1)e[r]=J(K(a,s,r));return{c(){t=g("div");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){t=m(r,"DIV",{class:!0});var i=$(t);for(let l=0;l<e.length;l+=1)e[l].l(i);i.forEach(d),this.h()},h(){E(t,"class","flex flex-wrap")},m(r,i){D(r,t,i);for(let l=0;l<e.length;l+=1)e[l].m(t,null)},p(r,[i]){if(i&1){s=r[0];let l;for(l=0;l<s.length;l+=1){const o=K(r,s,l);e[l]?e[l].p(o,i):(e[l]=J(o),e[l].c(),e[l].m(t,null))}for(;l<e.length;l+=1)e[l].d(1);e.length=s.length}},i:M,o:M,d(r){r&&d(t),C(e,r)}}}function te(a,t,s){let{filters:e}=t;return a.$$set=r=>{"filters"in r&&s(0,e=r.filters)},[e]}class re extends j{constructor(t){super();x(this,t,te,ee,U,{filters:0})}}function le(a){let t,s,e,r,i,l,o=a[0].brand.title+"",n,c,_,v=a[0].title+"",f,u;return{c(){t=g("div"),s=g("a"),e=g("img"),i=y(),l=g("h2"),n=q(o),c=y(),_=g("p"),f=q(v),this.h()},l(h){t=m(h,"DIV",{style:!0});var b=$(t);s=m(b,"A",{href:!0});var k=$(s);e=m(k,"IMG",{alt:!0,src:!0}),i=w(k),l=m(k,"H2",{});var S=$(l);n=A(S,o),S.forEach(d),c=w(k),_=m(k,"P",{});var z=$(_);f=A(z,v),z.forEach(d),k.forEach(d),b.forEach(d),this.h()},h(){E(e,"alt",a[2]),G(e.src,r=a[1])||E(e,"src",r),E(s,"href",u=a[0].url),P(t,"flex","0 0 24%")},m(h,b){D(h,t,b),p(t,s),p(s,e),p(s,i),p(s,l),p(l,n),p(s,c),p(s,_),p(_,f)},p(h,[b]){b&4&&E(e,"alt",h[2]),b&2&&!G(e.src,r=h[1])&&E(e,"src",r),b&1&&o!==(o=h[0].brand.title+"")&&L(n,o),b&1&&v!==(v=h[0].title+"")&&L(f,v),b&1&&u!==(u=h[0].url)&&E(s,"href",u)},i:M,o:M,d(h){h&&d(t)}}}function se(a,t,s){let e,r,{product:i}=t;return a.$$set=l=>{"product"in l&&s(0,i=l.product)},a.$$.update=()=>{a.$$.dirty&1&&s(2,e=`${i.brand.title} \u2014 ${i.title}`),a.$$.dirty&1&&s(1,r=`${i.imageUrls[0]}--product-card.jpg`)},[i,r,e]}class ne extends j{constructor(t){super();x(this,t,se,le,U,{product:0})}}function O(a,t,s){const e=a.slice();return e[1]=t[s],e}function Q(a){let t,s;return t=new ne({props:{product:a[1]}}),{c(){T(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,r){F(t,e,r),s=!0},p(e,r){const i={};r&1&&(i.product=e[1]),t.$set(i)},i(e){s||(I(t.$$.fragment,e),s=!0)},o(e){V(t.$$.fragment,e),s=!1},d(e){H(t,e)}}}function ae(a){let t,s,e=a[0],r=[];for(let l=0;l<e.length;l+=1)r[l]=Q(O(a,e,l));const i=l=>V(r[l],1,1,()=>{r[l]=null});return{c(){t=g("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){t=m(l,"DIV",{class:!0});var o=$(t);for(let n=0;n<r.length;n+=1)r[n].l(o);o.forEach(d),this.h()},h(){E(t,"class","flex flex-wrap")},m(l,o){D(l,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);s=!0},p(l,[o]){if(o&1){e=l[0];let n;for(n=0;n<e.length;n+=1){const c=O(l,e,n);r[n]?(r[n].p(c,o),I(r[n],1)):(r[n]=Q(c),r[n].c(),I(r[n],1),r[n].m(t,null))}for(Y(),n=e.length;n<r.length;n+=1)i(n);Z()}},i(l){if(!s){for(let o=0;o<e.length;o+=1)I(r[o]);s=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)V(r[o]);s=!1},d(l){l&&d(t),C(r,l)}}}function oe(a,t,s){let{products:e}=t;return a.$$set=r=>{"products"in r&&s(0,e=r.products)},[e]}class ie extends j{constructor(t){super();x(this,t,oe,ae,U,{products:0})}}function ce(a){let t,s,e,r,i,l,o;return e=new re({props:{filters:a[0]}}),l=new ie({props:{products:a[1]}}),{c(){t=g("div"),s=g("div"),T(e.$$.fragment),r=y(),i=g("div"),T(l.$$.fragment),this.h()},l(n){t=m(n,"DIV",{class:!0});var c=$(t);s=m(c,"DIV",{style:!0});var _=$(s);B(e.$$.fragment,_),_.forEach(d),r=w(c),i=m(c,"DIV",{style:!0});var v=$(i);B(l.$$.fragment,v),v.forEach(d),c.forEach(d),this.h()},h(){P(s,"flex","0 0 10%"),P(i,"flex","0 0 80%"),E(t,"class","flex justify-between")},m(n,c){D(n,t,c),p(t,s),F(e,s,null),p(t,r),p(t,i),F(l,i,null),o=!0},p(n,[c]){const _={};c&1&&(_.filters=n[0]),e.$set(_);const v={};c&2&&(v.products=n[1]),l.$set(v)},i(n){o||(I(e.$$.fragment,n),I(l.$$.fragment,n),o=!0)},o(n){V(e.$$.fragment,n),V(l.$$.fragment,n),o=!1},d(n){n&&d(t),H(e),H(l)}}}const fe="https://babydriver-dev.bambinimirror.com/json",de=async({page:{params:a},fetch:t})=>{const{theme:s}=a,r=await(await t(`${fe}/page:type=category&query=${s}`,{headers:{"bf-localization":"AT,EUR,en"}})).json();return console.log(r),{props:{filters:r.page.content.filter.sections,products:r.page.content.products}}};function ue(a,t,s){let{filters:e}=t,{products:r}=t;return a.$$set=i=>{"filters"in i&&s(0,e=i.filters),"products"in i&&s(1,r=i.products)},[e,r]}class _e extends j{constructor(t){super();x(this,t,ue,ce,U,{filters:0,products:1})}}export{_e as default,de as load};
